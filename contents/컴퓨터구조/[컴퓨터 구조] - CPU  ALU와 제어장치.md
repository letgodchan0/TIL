# [컴퓨터 구조] - CPU / ALU와 제어장치

> ALU는 컴퓨터 내부에서 수행되는 계산을 도맡아 수행한다.

<hr>

<br>

ALU는 레지스터를 통해 피연산자를 받아들이고, 제어장치로부터 수행할 연산을 알려주는 제어 신호를 받는다. ALU는 레지스터와 제어장치로부터 받아들인 피연산자와 제어 신호로 산술 연산, 논리 연산 등 다양한 연산을 수행한다. 연산의 결과는 다양하다. 메모리 주소가 될 수도 있고 특정 숫자나 문자가 될 수도 있다. 그리고 이 결과 값은 바로 메모리에 저장되는 것이 아니라 레지스터에 저장된다.

CPU가 메모리에 접근하는 속도가 느리기 때문에 ALU가 연산할 때마다 결과를 메모리에 저장한다면 프로그램 실행속도가 느릴 것이기 때문에 ALU의 결괏값을 메모리가 아닌 레지스터에 우선 저장한다. 

<br>

#### - 플래그

때때로 ALU는 결괏값 뿐만 아니라 연산 결과에 대한 추가적인 정보를 보낼 때가 있다. 연산 결과가 음수이거나, 연산 결과가 연산 결과를 담을 레지스터보다 클 때 ALU는 추가적인 정보를 보내는데 이를 플래그라고 한다. 

| 부호 플래그    | 제로 플래그     | 캐리 플래그                             | 오버플로우 플래그          | 인터럽트 플래그    | 슈퍼바이저 플래그                   |
| -------------- | --------------- | --------------------------------------- | -------------------------- | ------------------ | ----------------------------------- |
| 연산결과, 부호 | 연산결과 0 여부 | 연산 결과 올림수 or 빌림수 발새 생 여부 | 연산결과가 레지스터보다 큼 | 인터럽트 가능 여부 | 커널 모드, 사용자 모드 중 실행 여부 |
| 1              | 0               | 0                                       | 0                          | 0                  | 0                                   |

플래그는 위와 같은 구조를 가지고 있고, ALU가 연산을 수행한 직후 부호 플래그가 1이기 때문에 연산 결과는 음수임을 알 수 있다.

<br>

#### - 제어장치

제어장치는 신호를 보내고 명령어를 해석하는 부품이다. 제어장치가 받아들이는 정보는 다음과 같다.

1. 클럭 신호
   - 클럭이란 컴퓨터의 모든 부품을 일사불란하게 움직일 수 있게 하는 시간 단위
2. 해석해야 할 명령어

3. 플래그 값
4. 시스템 버스 (제어 신호)