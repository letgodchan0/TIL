# [네트워크] - 2계층 (이더넷 프로토콜)

> 가까이 있는 컴퓨터끼리 데이터를 주고 받는 방법에 대해 알아보자!

<hr>

<br>

### - 2계층의 기능

하나의 네트워크 대역 (같은 LAN) 즉, 같은 네트워크 상에 존재하는 여러 장비들 중에서 어떤 장비가 어떤 장비에게 보내는 데이터 전달의 `흐름제어`, 추가적으로 전달하는 데이터가 오류가 있는지 없는지 `오류제어`를 수행한다.

2계층은 하나의 네트워크 대역 (같은 LAN)에서만 통신할 때 사용한다. 따라서 다른 네트워크와 통신할 때는 항상 `3계층`이 도와주어야 한다. 3계층의 주소와 3계층의 프로토콜을 이용해야만 다른 네트워크와 통신이 가능하다.

<br>

### - 2계층에서 사용하는 주소

#### 물리적인 주소

![image-20230109225954861](%5B%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC%5D%20-%202%EA%B3%84%EC%B8%B5.assets/image-20230109225954861.png)

- LAN에서 통신할 때 사용하는 MAC 주소(물리적인 주소), 16진수 6개로 이루어짐

<br>

### - 2계층의 프로토콜

#### 이더넷 프로토콜

![image-20230109230801314](%5B%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC%5D%20-%202%EA%B3%84%EC%B8%B5.assets/image-20230109230801314.png)

- 한 줄은 총 4바이트, 초록색 데이터 부분은 페이로드로 이더넷 프로토콜이 헤더로 붙었을 때를 표현함, 총 14바이트
- Destination Address에 MAC 주소가 온다. 여기서 말하는 주소가 맥 주소를 뜻함, 목적지 주소, 즉 받는 주소
- Source Address는 출발지 맥 주소!
- 타입에는, 페이로더에서 가지고 있는 상위 계층의 프로토콜을 미리 알려주는 것, 전기적 신호로 데이터를 알려주기 때문에, 미리 알고 있으면 분석하기 편하다. (사실 타입으로 안알려주면 페이로더가 뭔지 알 수 없음!!)
  - 2계층 프로토콜의 상위 프로토콜 타입으로 올 수 있는 것 : 2바이트, IPv4(0x0800), ARP(0x0806)
- 이더넷 프로토콜 구조는 간단하게 받는 사람 6바이트, 보내는 사람 6바이트, 타입 같은거 2바이트 총 14바이트로 구성된다!

<br>

#### 맥주소 확인하기

```bash
ipconfig /all
```

![image-20230109231646092](%5B%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC%5D%20-%202%EA%B3%84%EC%B8%B5.assets/image-20230109231646092.png)

<br>

#### 이더넷 프로토콜 확인

![image-20230109232048957](%5B%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC%5D%20-%202%EA%B3%84%EC%B8%B5.assets/image-20230109232048957.png)

- 16진수 2개가 1바이트, 총 14바이트, 앞 6바이트가 받는 주소, 뒤에 6바이트가 보낸 주소!
- 제일 마지막 2비트가 08 00 으로 IPv4를 뜻함!

<BR>

#### 참고

![image-20230109232533338](%5B%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC%5D%20-%202%EA%B3%84%EC%B8%B5.assets/image-20230109232533338.png)